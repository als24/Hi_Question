{"version":3,"sources":[null,"webpack:///./src/components/ReadMore/ReadMore.vue?21bc","webpack:///./src/components/ReadMore/ReadMore.vue?a4d0","webpack:///./src/components/ReadMore/ReadMore.vue?8912","uni-app:///src/components/ReadMore/ReadMore.vue","webpack:///./src/components/ReadMore/ReadMore.vue?6899","webpack:///./src/components/ReadMore/ReadMore.vue?9af2"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAqc,CAAgB,ieAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;ACqCzd;;;;;;;;;;;;gBAYA;AACA;AACA;AADA,GADA;AAIA,mBAJA;AAKA;AACA;AACA;AACA,4BADA;AAEA;AAFA,KAFA;AAMA;AACA;AACA,mBADA;AAEA;AAFA,KAPA;AAWA;AACA;AACA,kBADA;AAEA;AAFA,KAZA;AAgBA;AACA;AACA,kBADA;AAEA;AAFA,KAjBA;AAqBA;AACA;AACA,kBADA;AAEA;AAFA,KAtBA;AA0BA;AACA;AACA,4BADA;AAEA;AAFA,KA3BA;AA+BA;AACA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,2BACA,kEAFA;AAGA,8BAHA;AAIA;AAJA;AAMA;AATA;AAhCA,GALA;AAiDA;AACA,gBADA,wBACA,GADA,EACA;AACA;AACA;AAHA,GAjDA;AAsDA;AACA,gBADA,0BACA;AACA;AACA,KAHA;AAIA;AACA,oBALA,8BAKA;AACA,wCACA;AACA;AARA,GAtDA;AAgEA,MAhEA,kBAgEA;AACA;AACA,0BADA;AACA;AACA,qBAFA,CAEA;;AAFA;AAIA,GArEA;AAsEA,SAtEA,qBAsEA;AACA;AACA,GAxEA;AAyEA;AACA,QADA,kBACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KATA;AAWA;AACA,kBAZA,4BAYA;AACA,qCADA,CAEA;;AACA;AACA,KAhBA;AAkBA;AACA,WAnBA,mBAmBA,QAnBA,EAmBA,GAnBA,EAmBA;AAAA;;AACA;AACA,YACA,mBADA,GAEA,EAFA,CAEA,MAFA,EAGA,4BAHA,EAGA,QAHA,EAIA,kBAJA,CAIA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SAXA,EAYA,IAZA;AAaA,OAdA;AAeA;AAnCA;AAzEA,C;;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAk2B,CAAgB,+0BAAG,EAAC,C;;;;;;;;;;;ACAt3B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ReadMore/ReadMore.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ReadMore.vue?vue&type=template&id=64e1fba2&scoped=true&\"\nvar renderjs\nimport script from \"./ReadMore.vue?vue&type=script&lang=js&\"\nexport * from \"./ReadMore.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReadMore.vue?vue&type=style&index=0&id=64e1fba2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64e1fba2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"src/components/ReadMore/ReadMore.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReadMore.vue?vue&type=template&id=64e1fba2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.innerShadowStyle])\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReadMore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReadMore.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"\">\r\n    <view\r\n      class=\"content\"\r\n      :style=\"{\r\n        height: isLongContent && !showMore ? showHeight + 'rpx' : 'auto'\r\n      }\"\r\n    >\r\n      <slot></slot>\r\n    </view>\r\n    <view\r\n      @tap=\"toggleReadMore\"\r\n      v-if=\"isLongContent\"\r\n      class=\"showmore-wrap\"\r\n      :class=\"{ 'show-more': showMore }\"\r\n      :style=\"[innerShadowStyle]\"\r\n    >\r\n      <text\r\n        class=\"readmore-btn\"\r\n        :style=\"{\r\n          fontSize: fontSize + 'rpx',\r\n          color: color\r\n        }\"\r\n      >\r\n        {{ showMore ? openText : closeText }}\r\n      </text>\r\n      <hi-icon\r\n        :name=\"showMore ? 'arrow-up' : 'arrow-down'\"\r\n        color=\"#2979ff\"\r\n      ></hi-icon>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport HiIcon from \"@/components/Basic/Icon\";\r\n\r\n/**\r\n * readMore 阅读更多\r\n * @description 该组件一般用于内容较长，预先收起一部分，点击展开全部内容的场景。\r\n * @tutorial https://www.uviewui.com/components/readMore.html\r\n * @property {String Number} show-height 内容超出此高度才会显示展开全文按钮，单位rpx（默认400）\r\n * @property {Boolean} toggle 展开后是否显示收起按钮（默认false）\r\n * @property {String} close-text 关闭时的提示文字（默认“展开阅读全文”）\r\n * @property {String Number} font-size 提示文字的大小，单位rpx（默认28）\r\n * @property {String} open-text 展开时的提示文字（默认“收起”）\r\n * @property {String} color 提示文字的颜色（默认#2979ff）\r\n * @example <read-more><rich-text :nodes=\"content\"></rich-text></read-more>\r\n */\r\nexport default {\r\n  components: {\r\n    HiIcon\r\n  },\r\n  name: \"read-more\",\r\n  props: {\r\n    // 默认的显示占位高度，单位为rpx\r\n    showHeight: {\r\n      type: [Number, String],\r\n      default: 400\r\n    },\r\n    // 展开后是否显示\"收起\"按钮\r\n    toggle: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 关闭时的提示文字\r\n    closeText: {\r\n      type: String,\r\n      default: \"展开查看全部\"\r\n    },\r\n    // 展开时的提示文字\r\n    openText: {\r\n      type: String,\r\n      default: \"收起\"\r\n    },\r\n    // 提示的文字颜色\r\n    color: {\r\n      type: String,\r\n      default: \"#2979ff\"\r\n    },\r\n    // 提示文字的大小\r\n    fontSize: {\r\n      type: [String, Number],\r\n      default: 28\r\n    },\r\n    // 是否显示阴影\r\n    shadowStyle: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          backgroundImage:\r\n            \"linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #E0E5EC 80%)\",\r\n          paddingTop: \"300rpx\",\r\n          marginTop: \"-300rpx\"\r\n        };\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    paramsChange(val) {\r\n      this.init();\r\n    }\r\n  },\r\n  computed: {\r\n    paramsChange() {\r\n      return `${this.toggle}-${this.showHeight}`;\r\n    },\r\n    // 展开后无需阴影，收起时才需要阴影样式\r\n    innerShadowStyle() {\r\n      if (this.showMore) return {};\r\n      else return this.shadowStyle;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isLongContent: false, // 是否需要隐藏一部分内容\r\n      showMore: false // 当前隐藏与显示的状态，true-显示，false-收起\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getRect(\".content\").then(res => {\r\n        // 判断高度，如果真实内容高度大于占位高度，则显示收起与展开的控制按钮\r\n        if (res.height > uni.upx2px(this.showHeight)) {\r\n          this.isLongContent = true;\r\n          this.showMore = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 展开或者收起\r\n    toggleReadMore() {\r\n      this.showMore = !this.showMore;\r\n      // 如果toggle为false，隐藏\"收起\"部分的内容\r\n      if (this.toggle == false) this.isLongContent = false;\r\n    },\r\n\r\n    // 查询节点信息\r\n    getRect(selector, all) {\r\n      return new Promise(resolve => {\r\n        uni\r\n          .createSelectorQuery()\r\n          .in(this)\r\n          [all ? \"selectAll\" : \"select\"](selector)\r\n          .boundingClientRect(rect => {\r\n            if (all && Array.isArray(rect) && rect.length) {\r\n              resolve(rect);\r\n            }\r\n            if (!all && rect) {\r\n              resolve(rect);\r\n            }\r\n          })\r\n          .exec();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content {\r\n  // line-height: 1.8;\r\n  // text-align: left;\r\n  // text-indent: 2em;\r\n  overflow : hidden;\r\n\r\n  font-size : 30rpx;\r\n\r\n  color : #606266;\r\n}\r\n\r\n.showmore-wrap {\r\n  display : flex;\r\n\r\n  position : relative;\r\n\r\n  padding-bottom : 26rpx;\r\n  width : 100%;\r\n\r\n  align-items : center;\r\n  justify-content : center;\r\n}\r\n\r\n.show-more {\r\n  margin-top : 20rpx;\r\n  padding-top : 0;\r\n\r\n  background : none;\r\n}\r\n\r\n.readmore-btn {\r\n  display : flex;\r\n\r\n  margin-right : 3rpx;\r\n\r\n  line-height : 1;\r\n\r\n  align-items : center;\r\n  justify-content : center;\r\n}\r\n\r\n.icon {\r\n  margin-left : 14rpx;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReadMore.vue?vue&type=style&index=0&id=64e1fba2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReadMore.vue?vue&type=style&index=0&id=64e1fba2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592816991741\n      var cssReload = require(\"/Users/hammond/Documents/code/frontEnd/uni-question/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}